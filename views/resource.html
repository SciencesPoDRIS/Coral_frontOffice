<div layout="column" class="resource">
    <div class="grey-band">
        <a href class="go-back" ng-click="goBack()">
            <md-icon class="black-icon">keyboard_arrow_left</md-icon> {{'BACK_TO_RESULTS' | translate}}
        </a>
    </div>
    <div class="page-content">
        <div class="logo">
            <img ng-src="../../dris_devdoc/Coral/resources/logo/{{indexVM.results.hits.hits[0]._source.logo}}" alt="Logo" class="fill">
        </div>
        <!-- French title -->
        <div class="title" ng-if="currentLanguage == 'fr'">
            {{indexVM.results.hits.hits[0]._source.title_fr | uppercase}}
        </div>
        <!-- English title -->
        <div class="title" ng-if="currentLanguage == 'en'">
            {{indexVM.results.hits.hits[0]._source.title_en | uppercase}}
        </div>
        <!-- French description -->
        <div class="description" ng-if="currentLanguage == 'fr'">
            {{indexVM.results.hits.hits[0]._source.description_fr}}
        </div>
        <!-- English description -->
        <div class="description" ng-if="currentLanguage == 'en'">
            {{indexVM.results.hits.hits[0]._source.description_en}}
        </div>
        <div layout="row" class="access">
            <div flex="33">
                <div>
                    image
                </div>
                <div class="subtitle">
                    {{'languages' | translate | uppercase}}
                </div>
                <div class="language" ng-repeat="language in indexVM.results.hits.hits[0]._source.languages">
                    {{language | translate}}
                </div>
            </div>
            <div flex="33">
                <div>
                    image
                </div>
                <div class="subtitle">
                    {{'Access' | translate | uppercase}}
                </div>
                <div class="access-type">
                    {{indexVM.results.hits.hits[0]._source.accesstype | translate}}
                </div>
            </div>
            <div flex="33">
                <div>
                    image
                </div>
                <div class="subtitle">
                    {{'Tutorials' | translate | uppercase}}
                </div>
                <div class="tutorial" ng-repeat="(key, value) in indexVM.results.hits.hits[0]._source.tutosrank">
                    <a href="{{indexVM.results.hits.hits[0]._source.tutosurl[key]}}" target="_blank">{{indexVM.results.hits.hits[0]._source.tutosname[key]}}<md-icon>keyboard_arrow_right</md-icon></a>
                </div>
            </div>
        </div>
    </div>
    
    <div>
        <!-- Status -->
        <div ng-if="indexVM.results.hits.hits[0]._source.status != null">
            {{indexVM.results.hits.hits[0]._source.status | uppercase | translate}}
            <br />
        </div>
        <!-- Downtimes / Issues -->
        <div ng-show="downtimes.length > 0">
            {{'OUT_OF_ORDER' | translate}} : {{downtimes[0]._source.shortname | translate}} du {{downtimes[0]._source.startdate | date : $parent.dateFormat}} au {{downtimes[0]._source.enddate | date : $parent.dateFormat}}.
            <br />
        </div>
        <!-- Subjects -->
        <div ng-repeat="subject in indexVM.results.hits.hits[0]._source.subjects">
            {{subject | translate}}
        </div>
        <!-- Accessibility -->
        <div ng-if="indexVM.results.hits.hits[0]._source.accessibility == 1">
            <img ng-src="images/accessibility.png" alt="Accessibility" class="fill">
            <br />
            <br />
        </div>
        <!-- Url -->
        <div>
            {{indexVM.results.hits.hits[0]._source.resourceurl}}
            <br />
            <br />
        </div>
        <!-- French general note -->
        <div ng-if="currentLanguage == 'fr' && indexVM.results.hits.hits[0]._source.notegeneral_fr != null">
            {{indexVM.results.hits.hits[0]._source.notegeneral_fr}}
            <br />
            <br />
        </div>
        <!-- English general note -->
        <div ng-if="currentLanguage == 'en' && indexVM.results.hits.hits[0]._source.notegeneral_en != null">
            {{indexVM.results.hits.hits[0]._source.notegeneral_en}}
            <br />
            <br />
        </div>
        <!-- French access note -->
        <div ng-if="currentLanguage == 'fr' && indexVM.results.hits.hits[0]._source.noteaccess_fr != null">
            {{indexVM.results.hits.hits[0]._source.noteaccess_fr}}
            <br />
            <br />
        </div>
        <!-- English access note -->
        <div ng-if="currentLanguage == 'en' && indexVM.results.hits.hits[0]._source.noteaccess_en != null">
            {{indexVM.results.hits.hits[0]._source.noteaccess_en}}
            <br />
            <br />
        </div>
        <!-- Update -->
        <div>
            {{indexVM.results.hits.hits[0]._source.updatedate | date : $parent.dateFormat}}
            <br />
            <br />
        </div>
        <!-- User limitation -->
        <div ng-if="indexVM.results.hits.hits[0]._source.userlimitid != null">
            {{indexVM.results.hits.hits[0]._source.userlimitid}}
        </div>
    </div>
</div>